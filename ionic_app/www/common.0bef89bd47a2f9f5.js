"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[592],{5424:(Q,_,L)=>{L.r(_),L.d(_,{GESTURE_CONTROLLER:()=>P,createGesture:()=>U});class A{constructor(t,s,r,a,n){this.id=s,this.name=r,this.disableScroll=n,this.priority=1e6*a+s,this.ctrl=t}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const t=this.ctrl.capture(this.name,this.id,this.priority);return t&&this.disableScroll&&this.ctrl.disableScroll(this.id),t}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class B{constructor(t,s,r,a){this.id=s,this.disable=r,this.disableScroll=a,this.ctrl=t}block(){if(this.ctrl){if(this.disable)for(const t of this.disable)this.ctrl.disableGesture(t,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const t of this.disable)this.ctrl.enableGesture(t,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const O="backdrop-no-scroll",P=new class x{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(t){var s;return new A(this,this.newID(),t.name,null!==(s=t.priority)&&void 0!==s?s:0,!!t.disableScroll)}createBlocker(t={}){return new B(this,this.newID(),t.disable,!!t.disableScroll)}start(t,s,r){return this.canStart(t)?(this.requestedStart.set(s,r),!0):(this.requestedStart.delete(s),!1)}capture(t,s,r){if(!this.start(t,s,r))return!1;const a=this.requestedStart;let n=-1e4;if(a.forEach(c=>{n=Math.max(n,c)}),n===r){this.capturedId=s,a.clear();const c=new CustomEvent("ionGestureCaptured",{detail:{gestureName:t}});return document.dispatchEvent(c),!0}return a.delete(s),!1}release(t){this.requestedStart.delete(t),this.capturedId===t&&(this.capturedId=void 0)}disableGesture(t,s){let r=this.disabledGestures.get(t);void 0===r&&(r=new Set,this.disabledGestures.set(t,r)),r.add(s)}enableGesture(t,s){const r=this.disabledGestures.get(t);void 0!==r&&r.delete(s)}disableScroll(t){this.disabledScroll.add(t),1===this.disabledScroll.size&&document.body.classList.add(O)}enableScroll(t){this.disabledScroll.delete(t),0===this.disabledScroll.size&&document.body.classList.remove(O)}canStart(t){return!(void 0!==this.capturedId||this.isDisabled(t))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(t){const s=this.disabledGestures.get(t);return!!(s&&s.size>0)}newID(){return this.gestureId++,this.gestureId}},p=(e,t,s,r)=>{const a=F(e)?{capture:!!r.capture,passive:!!r.passive}:!!r.capture;let n,c;return e.__zone_symbol__addEventListener?(n="__zone_symbol__addEventListener",c="__zone_symbol__removeEventListener"):(n="addEventListener",c="removeEventListener"),e[n](t,s,a),()=>{e[c](t,s,a)}},F=e=>{if(void 0===E)try{const t=Object.defineProperty({},"passive",{get:()=>{E=!0}});e.addEventListener("optsTest",()=>{},t)}catch{E=!1}return!!E};let E;const I=e=>e instanceof Document?e:e.ownerDocument,U=e=>{let t=!1,s=!1,r=!0,a=!1;const n=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},e),c=n.canStart,h=n.onWillStart,u=n.onStart,d=n.onEnd,l=n.notCaptured,m=n.onMove,S=n.threshold,v=n.passive,y=n.blurOnStart,i={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},X=((e,t,s)=>{const r=s*(Math.PI/180),a="x"===e,n=Math.cos(r),c=t*t;let h=0,u=0,d=!1,l=0;return{start(m,S){h=m,u=S,l=0,d=!0},detect(m,S){if(!d)return!1;const v=m-h,y=S-u,i=v*v+y*y;if(i<c)return!1;const X=Math.sqrt(i),b=(a?v:y)/X;return l=b>n?1:b<-n?-1:0,d=!1,!0},isGesture:()=>0!==l,getDirection:()=>l}})(n.direction,n.threshold,n.maxAngle),b=P.createGesture({name:e.gestureName,priority:e.gesturePriority,disableScroll:e.disableScroll}),g=()=>{t&&(a=!1,m&&m(i))},D=()=>!!b.capture()&&(t=!0,r=!1,i.startX=i.currentX,i.startY=i.currentY,i.startTime=i.currentTime,h?h(i).then(z):z(),!0),z=()=>{y&&(()=>{if(typeof document<"u"){const o=document.activeElement;o?.blur&&o.blur()}})(),u&&u(i),r=!0},w=()=>{t=!1,s=!1,a=!1,r=!0,b.release()},q=o=>{const M=t,N=r;if(w(),N){if(G(i,o),M)return void(d&&d(i));l&&l(i)}},C=((e,t,s,r,a)=>{let n,c,h,u,d,l,m,S=0;const v=f=>{S=Date.now()+2e3,t(f)&&(!c&&s&&(c=p(e,"touchmove",s,a)),h||(h=p(f.target,"touchend",i,a)),u||(u=p(f.target,"touchcancel",i,a)))},y=f=>{S>Date.now()||t(f)&&(!l&&s&&(l=p(I(e),"mousemove",s,a)),m||(m=p(I(e),"mouseup",X,a)))},i=f=>{b(),r&&r(f)},X=f=>{T(),r&&r(f)},b=()=>{c&&c(),h&&h(),u&&u(),c=h=u=void 0},T=()=>{l&&l(),m&&m(),l=m=void 0},Y=()=>{b(),T()},g=(f=!0)=>{f?(n||(n=p(e,"touchstart",v,a)),d||(d=p(e,"mousedown",y,a))):(n&&n(),d&&d(),n=d=void 0,Y())};return{enable:g,stop:Y,destroy:()=>{g(!1),r=s=t=void 0}}})(n.el,o=>{const M=k(o);return!(s||!r||(R(o,i),i.startX=i.currentX,i.startY=i.currentY,i.startTime=i.currentTime=M,i.velocityX=i.velocityY=i.deltaX=i.deltaY=0,i.event=o,c&&!1===c(i))||(b.release(),!b.start()))&&(s=!0,0===S?D():(X.start(i.startX,i.startY),!0))},o=>{t?!a&&r&&(a=!0,G(i,o),requestAnimationFrame(g)):(G(i,o),X.detect(i.currentX,i.currentY)&&(!X.isGesture()||!D())&&K())},q,{capture:!1,passive:v}),K=()=>{w(),C.stop(),l&&l(i)};return{enable(o=!0){o||(t&&q(void 0),w()),C.enable(o)},destroy(){b.destroy(),C.destroy()}}},G=(e,t)=>{if(!t)return;const s=e.currentX,r=e.currentY,a=e.currentTime;R(t,e);const n=e.currentX,c=e.currentY,u=(e.currentTime=k(t))-a;if(u>0&&u<100){const l=(c-r)/u;e.velocityX=(n-s)/u*.7+.3*e.velocityX,e.velocityY=.7*l+.3*e.velocityY}e.deltaX=n-e.startX,e.deltaY=c-e.startY,e.event=t},R=(e,t)=>{let s=0,r=0;if(e){const a=e.changedTouches;if(a&&a.length>0){const n=a[0];s=n.clientX,r=n.clientY}else void 0!==e.pageX&&(s=e.pageX,r=e.pageY)}t.currentX=s,t.currentY=r},k=e=>e.timeStamp||Date.now()}}]);